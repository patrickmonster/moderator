<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Leaderboards</title>
		<script type="text/javascript"
document.cookie = "safeCookie1=foo; SameSite=Lax"
document.cookie = "safeCookie2=foo"
document.cookie = "crossCookie=bar; SameSite=None; Secure";
		</script>
    <script src="https://rawcdn.githack.com/blueimp/JavaScript-MD5/v2.10.0/js/md5.min.js" charset="utf-8"></script>
		<script src="https://kit.fontawesome.com/aacb03e8a3.js" crossorigin="anonymous"></script>
	<style>
*{
	margin: 0px;
	background-color:transparent;
}
body{
	width:100%;/*1920px;*/
	height:100%;/*1080px;*/
  /* overflow:hidden; */
	text-align:center;
}
img{
	width: 4vh;
	height: 4vh;
}
#flake{
	overflow:hidden;
}
@keyframes heartbeat {
    0% { transform: scale(0); }
    70% { transform: scale(1); }
    100% { transform: scale(0); }
}
@keyframes opacity_obj {
    0% {opacity:0}
    70% {opacity:1}
    100% {opacity:0}
}
/* =========================================================================== */
table#console{
    margin: 5px;
    padding: 0px;
    width: calc( 100% - 10px );
    text-align: left;
    background-color: cyan;
}
table#console>tr>td{
    padding-left: 10px;
}
#console > tr > td:nth-child(1){
    width: 10px;
}
#console > tr > td:nth-child(2){
    width: 40px;
}
.scroll{
    width: 100%;
    height: 100%;
    overflow-x: hidden;
    overflow-y: auto;
}
.block{
    width: 400px;
    height: 605px;
    margin: 5px 5px 0 0;
    border-radius: 30px;
    float: left;
}
.alr {
    position: fixed;
    bottom: 0;
    right: 0;
    width: 250px;
}

/* 유저 리스트 */
#user.table{
    width: 100%;
}
#user.table>tr>td>a{
    float: right;
    cursor: pointer;
}
#user.table>tr>td{
    float: right;
    width: 30px;
}
#command > tr > td:nth-child(2),
#user > tr > td:nth-child(1){
    text-align: left;
    width: 100%;
}
#command > tr > td:nth-child(2){
    width: 75%;
}
#user > tr > td:nth-child(n+2) {
    cursor: pointer;
}

#chat > tr > td:nth-child(1){
    width: 40px;
}

#chat > tr> td:nth-child(3){
    text-align: left;
}
.bottom {
    height: 300px;
}
/* ============================================================================= */

.checkbox{
    top: 40px;
    right: 20px;
    -webkit-appearance: none;
    width: 40px;
    height: 20px;
    background-color: #ccc;
    border-radius: 20px;
    cursor: pointer;
    outline: none;
}

.checkbox:checked{
    background-color: #3498db;
}
.checkbox::before{
    content: "";
    position: inherit;
    width: 12px;
    height: 12px;
    background-color: #fff;
    border-radius: 20px;
    transition: .3s linear;
    margin: 4px 0 0 4px;
    display: block;
}
.checkbox:checked::before{
    margin-left: 23px;
}
/* ============================================================================= */
.up_down{
    top: 20px;
    right: 20px;
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 20px;
    cursor: pointer;
    outline: none;
    background: url('./img/down.png') left/20px no-repeat;
    transition:1s;
}

.up_down:checked{
  transform: rotate(180deg);
}
/* ============================================================================= */
a.tip {
    border-bottom: 1px dashed;
    text-decoration: none
}
a.tip:hover {
    position: relative
}
a.tip span {
    display: none
}
a.tip:hover span {
    border: #c0c0c0 1px dotted;
    padding: 5px;
    display: block;
    z-index: 100;
    background: url(../images/status-info.png) #f0f0f0 no-repeat 100% 5%;
    left: -100px;
    margin: 10px;
    width: 105px;
    position: absolute;
    top: 15px;
    text-align: inherit;
}
	</style>
	<script type="text/javascript">

	</script>
</head>
<body>
    <!-- <script src="https://patrickmonster.github.io/irc_chat_client/chat.js"></script> -->
    <script src="js/chat.js"></script>
    <script>
Element.prototype.data=function(){var a=arguments,b=a.length;if(!(b-1))return this.getAttribute("data-"+a[0]);else this.setAttribute("data-"+a[0],a[1]);return this;};
window.addStyle=document.addStyle=function(a,b){b=document.head.C('style');b.innerHTML=a;return b};
Element.prototype.createElement=Element.prototype.C=function(ele){var ele=document.createElement(ele);this.appendChild(ele);return ele};
Element.prototype.styles=function(e,f){this.style[e]=f;return this};
Element.prototype.addClass=function(className){this.classList.add(className);return this};
Element.prototype.html=function(str){this.innerHTML = str;return this};
Element.prototype.A=function(a,b){this[a]=b;return this};
String.prototype.string = function (len) { var s = '', i = 0; while (i++ < len) { s += this; } return s; };
String.prototype.zf = function (len) { return "0".string(len - this.length) + this; };
Number.prototype.zf = function (len) { return this.toString().zf(len); };
Date.prototype.format = function(f) {
    if (!this.valueOf()) return " ";
    var weekName = ["일", "월", "화", "수", "목", "금", "토"];
    var d = this;
    return f.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi, function($1) {
        switch ($1) {
            case "yyyy": return d.getFullYear();
            case "yy": return (d.getFullYear() % 1000).zf(2);
            case "MM": return (d.getMonth() + 1).zf(2);
            case "dd": return d.getDate().zf(2);
            case "E": return weekName[d.getDay()];
            case "HH": return d.getHours().zf(2);
            case "hh": return ((h = d.getHours() % 12) ? h : 12).zf(2);
            case "mm": return d.getMinutes().zf(2);
            case "ss": return d.getSeconds().zf(2);
            case "a/p": return d.getHours() < 12 ? "오전" : "오후";
            default: return $1;
        }
    });
};

function randomItem(a) {return a[Math.floor(Math.random() * a.length)]}
function make_qury(option,out){out =[];for(var i in option)out.push(i + "=" + option[i]);return "?"+out.join("&")}
function getParams(name, address = window.location.href) {
    let url;
    let results = "";
    url = new URL(address);
    if (typeof url.searchParams === 'undefined') {
        results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(address);
        if (results == null) {
            return null;
        } else {
            return decodeURI(results[1]) || 0;
        }
    } else {
        return url.searchParams.get(name);
    }
}

//인증키
window.oauth_client_id = "vsezqqctfb0h10jfw1wiybvhfju1af";
//리다이렉션 url
window.oauth_redirect_uri = "https://patrickmonster.github.io/moderator/";
window.version = "Version.1.0.5";
const oauth = localStorage.getItem("oauth");
const permissions = ["chat:edit","chat:read","channel_editor","whispers:edit","whispers:read","channel:moderate","user_blocks_edit"];

//=======================================================================================================
if (document.location.hash.indexOf("access_token")!=-1){
    permiss(permissions);
}else{
    if(oauth){
        if(!isPermiss()){
            localStorage.removeItem("oauth");
            alert("세션이 만료되어 로그아웃 되셧습니다!\n다시 로그인 해주세요!");
            permiss(permissions);
        }
    }else permiss(permissions);
}
//=======================================================================================================
const rawauth = document.location.href.replace("#", "?");
window.channel = getParams("channel",rawauth);

console.log(window.channel);
document.cookie="safeCookie"

if(!window.channel){
    window.onload = function() {
		    document.body.innerHTML = '<div id="input_surch"><input id="user-input" type="text" value="" onkeypress="if(event.keyCode!=13)return;setChannel()" placeholder="채널의 id를 입력해 주세요!" focus=""><button onclick="setChannel()"><i class="fas fa-sign-in-alt"></i></button></div>';
				window.addStyle("#input_surch:hover>button{opacity:1}#input_surch{position: absolute;left: 50%;top: 50%;transform: translate(-50%,-50%);}#user-input{height: 60px;padding: 2px;width: 400px;border-radius: 50%;font-size: 2em;border: 0px;background: #333;color: #fff;border-radius: 30px;padding: 0 60px 0 14px;}button{height: 60px;opacity: 0;font-size: 2em;border: 0;border-radius: 50%;width: 60px;height: 60px;background: #fff;color: #000;padding: 0 10px 0 0;transform: translate(-60px, 0px);padding-left: 14px;transition: .4s;}")
    }
    function setChannel(){
        var channel = document.getElementById("user-input").value;
        if (/[a-zA-Z0-9_]/.test(channel) && channel.length > 2 )
            location.href = location.origin + location.pathname + "?channel=" + channel; // 채널명으로 변경
        else alert("똑바로 입력해 주세요!")
    }
}else{//=======================================================================================================
// 봇 명령어/처리
window.bans = window.bans || {};
window.bot = {
    "chatClient" : null,
    "command": { // 명령 처리 함수
        "!명령어" : function(cc,params){
            cc.onSend("/me [" + Object.keys(window.bot.commands).filter(word => true).join(",") + "]");
        },"!팔로우":function(cc,params){
            console.log(params)
            try{
                var user = JSON.parse(getApi("kraken/users/" + params["user-id"] + "/follows/channels/"+window.chatClientE.broadcaster["_id"]))// 사용자 정보
                if (user.hasOwnProperty("error")){// 팔로우 하지 않음
                    cc.onSend(params["display-name"] + "님은 아직 팔로우 하지 않았습니다!");
                }else{
                    var day = (new Date() - new Date(user["created_at"])) / 86400000;
                    cc.onSend(params["display-name"] + "님은 팔로우 한지 " + parseInt(day) + "일째");
                }
            }catch (e) {cc.onSend(params["display-name"] + "님은 아직 팔로우 하지 않았습니다!");}
        },
    },"commands":{},"addCommand":function(c,v){
				if(!c){
					c = prompt('명령을 입력해 주세요','');
					if(!c||c.length <=0){return;}
				}
				var v = prompt( '출력을 입력해 주세요!',v?v:"");
				if(!v||v.length <= 0){alert("명령을 입력해 주세요");return;}
				window.bot.commands[c] = v;
        window.bot.console("명령이 추가됨 :" + c);
				localStorage.setItem("command",JSON.stringify(window.bot.commands));
        list_commands("command");// 리스트 초기화
    },"badlangs":[],"addBadlangs":function(c){
				if(!c){
					c = prompt('금지어를 입력해 주세요!','');
					if(!c||c.length <=0){return;}
				}
				if(window.bot.badlangs.indexOf(c)!= -1)return;
        window.bot.badlangs.push(c)
        window.bot.console("금지어 추가됨 :" + c);
				localStorage.setItem("badlangs",JSON.stringify(window.bot.badlangs));
        list_commands("badlangs");// 리스트 초기화
    },"console_index":1,"console":function(log,color){
        if(!color)color="#000"
        var c = document.getElementById("console").C("tr");
        c.C("td").html(this["console_index"]++).style.color=color;
        c.C("td").html(new Date().format("mm:ss")).style.color=color;
        c.C("td").html(log).style.color=color;
        scrollDiv(document.getElementById("console_scroll"));
    },"viewbot":function(keyword){//window.bot.viewbot
				var lst = 0;
				window.chatClientE.chats.filter((item)=>{
						return item[2].indexOf(keyword) != -1;
				}).filter((item)=>{
					if(window.bans.hasOwnProperty(item[1]))
						return false;
					window.bans[item[1]] = item.join("\t");
					return true;
				}).forEach((item, i) => {
						window.chatClientE.onSend("/ban " + item[0]);
						window.bot.console("viewbot:" + item[0] + "|"+item[1]);
						lst = i + 1;
				});
				window.chatClientE.onSend("/me " + lst + "명 처리하였습니다 - " + window.oauth_redirect_uri);
				window.bot.console("viewbot:" + lst + "명 처리함");
		},"msg-id":function(msg,data){

		}
}

if (!/[a-zA-Z0-9_]/.test(window.channel) && window.channel.length < 2 ){
    alert("채널명이 올바르지 않습니다");
    location.href = location.origin + location.pathname;
}
var chat_user = JSON.parse(getChannel(oauth));
if (chat_user.hasOwnProperty("error")){
    localStorage.removeItem("oauth");
    localStorage.removeItem("state");
    localStorage.removeItem("last_url");
    // 데이터 제거
    alert("토큰 에러입니다 재 발급을 권장합니다!");
    location.reload();
}

console.log(chat_user);
window.chatClientC = new chatClient({"channel":"tuesucmd","username":chat_user.login,"password":oauth});
window.chatClientC.open();
window.chatClientC.onSys = _ =>{;};
window.chatClientC.onChating = function(parsed){
    if(/(moderator|broadcaster)/i.test(parsed["badges"])){
        window.bot.console(parsed.message,"blue");
        return;
    }
    var tr = document.getElementById("chat").C("tr");
    tr.C("td").html(new Date().format("mm:ss"));
    tr.C("td").html(parsed["display-name"]);
    tr.C("td").html(parsed.message.replace(/(<([^>]+)>)/ig,""));
    scrollDiv(tr.parentElement);
};
window.bot.chatClient = window.chatClientE = new chatClient({"channel":window.channel,"username":chat_user.login,"password":oauth});
window.chatClientE.open();
window.chatClientC.webSocket.onclose = window.chatClientE.webSocket.onclose =function(){window.chatClient.onCommand("연결재요청!");setTimeout(function(){window.chatClientE.open()},1000)};
window.chatClientE.onCommand =function(message,parsed){;};// 관리자 명령
window.chatClientE.chats = []
window.chatClientE.isModes=false;
window.chatClientE.onChating = function(parsed){
		if(!window.chatClientE.isModes)return;
		window.chatClientE.chats.push([parsed["user-id"],parsed["display-id"],parsed.message]);
    for (var i of window.bot.badlangs){
        if(parsed.message.indexOf(i) != -1){
            window.bot.console("금지어 사용["+i+"]: " + parsed["display-name"]);
            this.onMessageDelete(parsed.id);
            return;
        }
    }
		if(/^(((http(s?))\:\/\/)?)([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,6}(\:[0-9]+)?(\/\S*)?$/.test(parsed.message)){
			window.bot.console("<a title='제거' onclick='window.chatClientE.onMessageDelete(\""+parsed.id+"\")'>링크사용:"+parsed.message+"</a>");
			return;
		}
		if(!document.getElementById("is_commands").checked)return;
    var com = parsed.message.split(" "),l=Object.keys(window.bot.commands);
    if(window.bot.command.hasOwnProperty(com[0])){
        window.bot.command[com[0]](this,parsed)
    }
		for(var i of l){
			if(com[0].indexOf(l)== -1)return;
			for (var c of window.bot.commands[com[0]].split("\n")){
					this.onSend(c.replace("{user}",parsed["display-id"]).replace("{id}",parsed["user-id"]).replace("{name}",parsed["display-name"]).replace("{channel}",window.chatClientE.broadcaster["display_name"]));
			}
		}
};
window.chatClientE.onJoin = function(message){
		if(message==chat_user["login"]){// 본인ㄷㄷㄷㅈ
			window.bot.console(window.channel +"채널에 접속함");
			if(chat_user["login"]==window.channel)
				window.chatClientE.isModes = true;
			else window.chatClientE.onSend("/mods");
			return;
		}
		if(!window.chatClientE.isModes)return;
		window.bot.console("<a title='채널에 전송' onclick='window.chatClientE.onSend(this.innerHTML);this.onclick=_=>{}' style='cursor:pointer'>"+message+"가 채널에 입장하였습니다.</a>");
    var consoles = document.getElementById("user").C("tr"),cc = this;
    consoles.data("user",message);
    consoles.C("td").html(message);
    consoles.C("td").C("a").addClass("tip").html('<i class="fa fa-ban"></i><span>벤</span>').onclick = _ => {this.onSend("/ban " + message);window.bot.console("ban:" + message)};
    consoles.C("td").C("a").data("timeout","10").addClass("tip").html('10<span>10초 타임아웃</span>').onclick=function(){cc.onSend(["/timeout",message,this.data("timeout")].join(" "));window.bot.console("timeout[" + this.data("timeout") + "]:" +message)}
    consoles.C("td").C("a").data("timeout","1m").addClass("tip").html('1m<span>1분 타임아웃</span>').onclick=function(){cc.onSend(["/timeout",message,this.data("timeout")].join(" "));window.bot.console("timeout[" + this.data("timeout") + "]:" +message)}
    consoles.C("td").C("a").data("timeout","10m").addClass("tip").html('10m<span>10분 타임아웃</span>').onclick=function(){cc.onSend(["/timeout",message,this.data("timeout")].join(" "));window.bot.console("timeout[" + this.data("timeout") + "]:" +message)}
    consoles.C("td").C("a").data("timeout","1h").addClass("tip").html('1h<span>1시간 타임아웃</span>').onclick=function(){cc.onSend(["/timeout",message,this.data("timeout")].join(" "));window.bot.console("timeout[" + this.data("timeout") + "]:" +message)}
};
window.chatClientE.onSys=function onSys(message){//moderator/1,subscriber/6,bits/10000
    try{
        if(message.indexOf("NOTICE")!=-1){//window.channel
					var args = message.split(":");
					console.log(args);
					if(args[0].split("=")[1]=="room_mods " && args.length >= 4){//매니져 존재유무
						window.chatClientE.mods = args[3].substr(1).split(", ");// 매니져 리스트
						if(window.chatClientE.mods.indexOf(chat_user["login"]) != -1)
							window.chatClientE.isModes = true;
						else {
							alert("당신은 이 방의 중재자(매니저)가 아닙니다!\n일부 기능이 제외됩니다!");
							document.getElementById("is_commands").A("disabled",true).checked=false;
							document.getElementById("command_scroll").style.display = "none";
							document.getElementById("user_scroll").style.display = "none";
							document.getElementById("badlangs_scroll").style.display = "none";
						}
						return;
					}
					window.bot.console(message.split(":").slice(2).join(":"),"red");
				}
        else if(message.indexOf("HOSTTARGET")!=-1)window.bot.console("<span onclick='window.chatClientE.onSend(\"\/unhost\");this.onclick=_=>{}' style='cursor:pointer'>호스팅 해제</span>");
				else if(message.indexOf("CLEARCHAT")!=-1){
					//@ban-duration=<ban-duration> :tmi.twitch.tv CLEARCHAT #<channel> :<user>
					if(message.indexOf("room-id")!= -1)
						window.bot.console("채팅이 모두 제거되었습니다!","red");
					else {
						var args = message.split(":");
						//:tmi.twitch.tv CLEARCHAT #dallas :ronni ban
						//@ban-duration=<ban-duration> :tmi.twitch.tv CLEARCHAT #<channel> :<user>
						if(args[0]==""){
							window.bot.console("<a title='unban' onclick='window.chatClientE.onSend(\"\/unban "+args[2]+"\");this.onclick=_=>{}'>ban :"+args[2]+"</a>","red");
						}else{//사용자 벤
							window.bot.console("<a title='unban' onclick='window.chatClientE.onSend(\"\/untimeout "+args[2]+"\");this.onclick=_=>{}'>timeout :"+args[0].split("=")[1]+" for "+args[2] + "</a>","red");
						}
					}
				}
				else if(message.indexOf("CLEARMSG")!=-1)window.bot.console("메세지 삭제:"+this.parsedMessage(message)["message"],"red");
    }catch (e) {window.bot.console(e);}
};
window.chatClientE.onConsole=function(message){
    window.bot.console(message);
};

window.chatClientE.onMessageDelete=function(msg_id){
    this.onSend("/delete "+ msg_id);
}

window.chatClientE.broadcaster = JSON.parse(getApi("kraken/users?login=" + window.channel)).users[0];
// 스트리머 정보 https://dev.twitch.tv/docs/v5/reference/channels#get-channel-by-id

window.onload = function() {
    var chat = document.getElementById("chat_ui");
    chat.src="https://www.twitch.tv/embed/"+window.channel+"/chat?parent="+location.hostname;
    window.chatClientC.onChating({"display-name":"채팅방에","message":"접속됨!"});

		window.bot.commands = JSON.parse(localStorage.getItem("command") || "{}");
		window.bot.badlangs = JSON.parse(localStorage.getItem("badlangs") || "[]");

		list_commands("badlangs");
    list_commands("command");
		console.log(window.version);
}

function list_commands(target){
    var list = document.getElementById(target).html(""),l;
		if (target == "command")l = window.bot.commands;
		else if(target == "badlangs")l = window.bot.badlangs;
    for (var i in l){
        var tr = list.C("tr");
        tr.data(target,i).onclick=function(){
            var index = this.data(target);
            if(target=="command")window.bot.addCommand(index,window.bot.commands[index]);
        };
				if(target != "badlangs")
        	tr.C("td").html(i);
        tr.C("td").html(l[i]);
        tr.C("td").C("a").addClass("tip").html('<i class="fa fa-ban"></i><span>제거</span>').onclick=function(e){
            e.preventDefault();
            var index = this.parentElement.parentElement.data(target);
            if(target=="command"){
                delete window.bot.commands[index];
                window.bot.console("명령이 제거됨 :" + index);
                document.getElementById("comm_c").value = "";
                document.getElementById("comm_s").value = "";
								localStorage.setItem("command",JSON.stringify(window.bot.commands));
            }else if(target=="badlangs"){
						    var data = window.bot.badlangs[index]
                delete window.bot.badlangs[index];
								window.bot.badlangs.length--;
						    window.bot.console("금지어 제거됨 :" + data);
								localStorage.setItem("badlangs",JSON.stringify(window.bot.badlangs));
                list_commands("badlangs");// 리스트 초기화
            }
            list_commands(target);
        }

    }
}

function scrollDiv(target){
    target.scrollTop = target.scrollHeight;
}

function getApi(url,isOauth){ //  OAuth
    var xmlhttp = new XMLHttpRequest(),channel="";
    xmlhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200)channel=this.responseText};
    xmlhttp.open("GET","https://api.twitch.tv/" + url,false);
    xmlhttp.setRequestHeader('Client-ID',window.oauth_client_id);
    xmlhttp.setRequestHeader('Accept','application/vnd.twitchtv.v5+json');
    if(isOauth)xmlhttp.setRequestHeader("Authorization", isOauth + " " + oauth);
    xmlhttp.send();
    return channel;
}

function saveToFile_Chrome(fileName, content) {
    var blob = new Blob([content], { type: 'text/plain' });
    objURL = window.URL.createObjectURL(blob);
    if (window.__Xr_objURL_forCreatingFile__) {
        window.URL.revokeObjectURL(window.__Xr_objURL_forCreatingFile__);
    }
    window.__Xr_objURL_forCreatingFile__ = objURL;
    var a = document.createElement('a');
    a.download = fileName;
    a.href = objURL;
    a.click();
}

function saveToFile_IE(fileName, content) {
    var blob = new Blob([content], { type: "text/plain", endings: "native" });
    window.navigator.msSaveBlob(blob, fileName);
    //window.navigator.msSaveOrOpenBlob(blob, fileName);
}

function save(fileName, content){
	if(isIE())saveToFile_IE(fileName, content);
	else saveToFile_Chrome(fileName, content);
}

function isIE() {
    return (navigator.appName === 'Netscape' && navigator.userAgent.search('Trident') !== -1) ||
        navigator.userAgent.toLowerCase().indexOf("msie") !== -1;
}

}
//tuesucmd / 봇
/// scp index.html pi@10.42.0.167:/var/www/html/
/// scp /home/soungjin19/irc_chat_client/chat.js pi@10.42.0.167:/var/www/html/
    </script>
    <div class="block">
        <iframe id=chat_ui frameborder="0" scrolling="no" height="600" width="400"></iframe>
    </div>
    <div class="block" style="width: 600px !important;background: #afeae8;">

				<div id=console_scroll class="scroll" style="width: 100%;background: #afeae8;">
	        <table id=console></table>
				</div>
    </div>
    <div id=command_scroll class="block" style="background: #03A9F4;height: 300px !important;position:relative;transition: 1s;">
        <h2>채팅 명령<input type="checkbox" id="is_commands" title="확장/축소" class="checkbox" checked><button onclick="window.bot.addCommand();">추가</button></h2>
				<input type="checkbox" class="up_down" checked style="position: absolute;margin: 5px;top: 0;" onclick="this.checked?this.parentNode.styles('height','300px'):this.parentNode.styles('height','35px') " checked>
        <div class="scroll " style="height:calc( 100% - 35px );"><table id=command>
            <tr><td>명령어</td><td>명령어 리스트를 출력합니다</td><td><input type="checkbox" class="checkbox" checked></td><td></td></tr>
            <tr><td>팔로우</td><td>팔로우경과일을 출력합니다</td><td><input type="checkbox" class="checkbox" checked></td><td></td></tr>
        </table></div>
        <!-- <input type="text" id=comm_c onkeypress="if(event.keyCode!=13 || this.value=='')return;document.getElementById('comm_s').focus()" placeholder="명령어" style="width: 10%;background: #fff;border: 0px;border-bottom: 1px solid;">
        <input type="text" id="comm_s" onkeypress="if(event.keyCode!=13 || this.value=='')return;window.bot.addCommand(document.getElementById('comm_c').value,this.value);document.getElementById('comm_c').value='';this.value='';" placeholder="설명" class="largeinput"> -->
    </div>
    <div class="block" style="background: #8cff55;height: 300px;position:relative;transition: 1s;">
				<h2>채팅유저</h2>
				<input type="checkbox" class="up_down" checked title="확장/축소" style="position: absolute;margin: 5px;top: 0;" onclick="this.checked?this.parentNode.styles('height','300px'):this.parentNode.styles('height','35px') " checked>
				<div class="scroll" id=user_scroll style="height:calc( 100% - 35px );">
					<table id=user></table>
				</div>
    </div>
    <div id=badlangs_scroll class="block" style="background: #f7ff00;height: 300px;position:relative;transition: 1s;">
				<h2>금지어<button onclick="window.bot.addBadlangs();">추가</button></h2>
				<input type="checkbox" class="up_down" checked title="확장/축소" style="position: absolute;margin: 5px;top: 0;" onclick="this.checked?this.parentNode.styles('height','300px'):this.parentNode.styles('height','35px') " checked>
        <div class="scroll " style="height:calc( 100% - 35px );"><table id=badlangs></table></div>
    </div>
    <div class="block" style="background:#ff4343;height: 300px;color:#fff;">
        <h2>뷰봇/기능</h2>
				<div class="scroll">
	        <button onclick="var c = prompt( '필터링할 채팅을 입력해 주세요(5자 이상)','');if(c.length < 3){alert('3자이상 입력해 주세요!');return;}window.bot.viewbot(c);">채팅탐지</button>
					<button onclick="save('ban'+new Date().format('MM_dd_HH')+'.txt',Object.values(window.bans).join('\r\n'))">뷰봇벤 리스트 다운로드</button>
	        <br>채팅 기록을 불러와 벤합니다...
					<span>채팅을 비교하여 뷰봇을 처리합니다! 일반 사용자도 차단이 될 수 있습니다!</span><br>
					<button onclick="window.open('https://patrickmonster.github.io/moderator/followers/?channel='+window.channel)">팔로우 필터</button>
	        <br>팔로우 일시를 기준으로 필터링 합니다.<br>
					<button onclick="location.href=window.oauth_redirect_uri">사용자 변경</button>
				</div>
    </div>
    <div class="block alr" style="background: #949494;height: 55px;transition:1s;border-radius: 30px 30px 0 0;">
				<h2>오픈채팅</button><input type="checkbox" title="확장/축소" id="is_chat" class="checkbox" onclick="if(this.checked){this.parentNode.parentNode.styles('height','275px')}else{this.parentNode.parentNode.styles('height','55px')}"></h2>
        <div class="scroll" style="height:calc( 250px - 35px );">
            <table id=chat></table>
        </div>
        <input class="largeinput"  type="text" placeholder="채팅(enter 입력)" onkeypress="if(event.keyCode!=13 || this.value=='')return;window.chatClientC.onSend(this.value);window.chatClientC.onChating({'display-name':'나','message':this.value});this.value=''">
        <!-- <button type="submit" id="right-search-btn">채팅</button> -->
    </div>
    <style>

input.largeinput{
    width: calc(100% - 20%);
    background: #fff;
    border: 0px;
    border-bottom: 1px solid;
}
button{
	border: 1px solid skyblue;
	background-color: rgba(0,0,0,0);
	color: skyblue;
	padding: 5px;
	border-radius: 5px;
	cursor:pointer;
}
button:hover{
	color:white;
	background-color: skyblue;
}
a{
	cursor: pointer;
}
#console_scroll a{
	color:blue;
}
    </style>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-158025067-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158025067-4');
</script>

</body>
</html>
